# Описание

Проект каталога книг с возможностью бронировать книги на определенный период. 

В проекте реализован REST API для работы с данными. Реализована система бронирования книги пользователем. Пользователь может забронировать книгу на определенное время. Пользователь может не дожидаясь дедлайна по брони отдать книгу обратно; Пользователи не могут забронировать книгу на одну и ту же дату. При наступлении даты окончания бронирования снимать книгу с брони (реализовано с Celery)

# Автор проекта

[Mikhail](https://github.com/tooMike)


# Установка и запуск с Docker

Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/tooMike/books_reservation
```

```
cd books_reservation
```

Запустить сборку проекта:

```
docker compose up
```

Выполнить миграции:

```
docker compose exec web alembic upgrade head
```

Загрузить в БД тестовые данные:

```
docker compose exec web python -m app.test_data.add_data
```

Проект будет доступен по адресу

```
http://127.0.0.1:8000/
```

# Спецификация

При локальном запуске документация будет доступна по адресу:

```
http://127.0.0.1:8000/docs или http://127.0.0.1:8000/redoc
```

# Примеры запросов к API

### Получение списка доступных книг

Тип запроса: `GET`

Эндпоинт: `/book/`

Пример успешного ответа:

```
[
  {
    "name": "string",
    "price": 0,
    "pages": 0,
    "author_id": 0,
    "genres": [
      {
        "name": "string",
        "id": 0
      }
    ],
    "id": 0
  }
]
```

### Создание бронирования

Тип запроса: `POST`

Эндпоинт: `/reservation/`

Пример запрос:

```
{
  "from_reserve": "2024-07-23T16:37",
  "to_reserve": "2024-07-23T17:27",
  "book_id": 0
}
```

Пример успешного ответа:

```
{
  "from_reserve": "2024-07-23T16:37",
  "to_reserve": "2024-07-23T17:27",
  "id": 0,
  "book_id": 0,
  "user_id": 0
}
```


